/*
popModal - 1.24 [05.10.16]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
$(function(){(function(a){a.fn.popModal=function(b){function e(){function c(a){var d=Math.max(v,w,x);return("bottomLeft"==a?0<w:"bottomRight"==a?0<v:0<x)?a:0<w&&w==d?"bottomLeft":0<v&&v==d?"bottomRight":0<x&&x==d?"bottomCenter":a}if(g.inline)var b=d.position().left,h=d.position().top;else b=d.offset().left,h=d.offset().top;var p=parseInt(d.css("marginLeft"));parseInt(d.css("paddingLeft"));var e=parseInt(d.css("marginTop")),k=d.outerHeight(),m=d.outerWidth(),l=f.outerWidth(),q=f.outerHeight(),n,t=
d.offset().left,z=a(window).width()-d.offset().left-m,B=d.offset().top,C=t-10-l,v=m+t-l,D=z-10-l,w=m+z-l,x=Math.min(m/2+z-l/2,m/2+t-l/2),t=B-q/2;/^bottom/.test(g.placement)?n=c(g.placement):/^left/.test(g.placement)?n=0<C?"leftCenter"==g.placement&&0<t?"leftCenter":"leftTop":c("bottomLeft"):/^right/.test(g.placement)&&(n=0<D?"rightCenter"==g.placement&&0<t?"rightCenter":"rightTop":c("bottomRight"));f.removeAttr("class").addClass("popModal animated "+n);switch(n){case "bottomLeft":f.css({top:h+e+k+
10+"px",left:b+p+"px"}).addClass("fadeInBottom");break;case "bottomRight":f.css({top:h+e+k+10+"px",left:b+p+m-l+"px"}).addClass("fadeInBottom");break;case "bottomCenter":f.css({top:h+e+k+10+"px",left:b+p+(m-l)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":f.css({top:h+e+"px",left:b+p-l-10+"px"}).addClass("fadeInLeft");break;case "rightTop":f.css({top:h+e+"px",left:b+p+m+10+"px"}).addClass("fadeInRight");break;case "leftCenter":f.css({top:h+e+k/2-q/2+"px",left:b+p-l-10+"px"}).addClass("fadeInLeft");
break;case "rightCenter":f.css({top:h+e+k/2-q/2+"px",left:b+p+m+10+"px"}).addClass("fadeInRight")}}function h(){f=a("div[data-popmodal]");d.removeAttr("data-popmodal_id");f.length&&(c(),k||(k=f.css("animationDuration"),k=void 0!==k?1E3*k.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());f.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},k))}function c(){var a=f.attr("class"),d=a.replace("fadeIn","fadeOut");
f.removeClass(a).addClass(d)}var d=a(this),f,m="",p="",l,g,k,q,n={init:function(c){g=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,asMenu:!1,beforeLoadingContent:"Please, wait...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);if(0!==a("body").find("div[data-popmodal]").length&&a("body").find("div[data-popmodal]").attr("data-popmodal_id")==d.attr("data-popmodal_id"))h();
else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();g.asMenu?l=" popModal_asMenu":(l="",g.showCloseBut&&(m=a('<button type="button" class="close">&times;</button>')),g.overflowContent&&(p=" popModal_contentOverflow"));q=(new Date).getMilliseconds();d.attr("data-popmodal_id",q);c=a('<div class="popModal animated" style="'+("fixed"==d.css("position")?"position:fixed;":"")+'" data-popmodal_id="'+
q+'" data-popmodal="open"></div>');var b=a('<div class="popModal_content'+p+l+'"></div>');c.append(m,b);a.isFunction(g.html)?(b.append(g.beforeLoadingContent),g.html(function(d){b.empty().append(d);f=a("div[data-popmodal]");e()})):("object"==a.type(g.html)&&g.html.after(a('<div class="popModal_source"></div>')),b.append(g.html));500>=a(window).width()&&(g.inline=!0);g.inline?d.after(c):a("body").append(c);f=a("div[data-popmodal]");c=f.find(".popModal_footer");0!=c.length&&f.find(".popModal_content").css({marginBottom:c.outerHeight()+
15+"px"});a.isFunction(g.html)||a.type(g.html);if(g.onLoad&&a.isFunction(g.onLoad))g.onLoad();a(g.html).trigger("load");f.on("destroyed",function(){if(g.onClose&&a.isFunction(g.onClose))g.onClose();a(g.html).trigger("close")});e();if(g.onDocumentClickClose)a("html").on("click.popModalEvent",function(c){a(this).addClass("popModalOpen");f.is(":hidden")&&h();var b=a(c.target);b.parents().addBack().is(".popModal")||b.parents().addBack().is(d)||(c=parseInt(b.parents().filter(function(){return"auto"!==
a(this).css("zIndex")}).first().css("zIndex")),isNaN(c)&&(c=0),""!==g.onDocumentClickClosePrevent&&b.is(g.onDocumentClickClosePrevent)&&(c=9999),b=b.css("zIndex"),"auto"==b&&(b=0),c<b&&(c=b),c<=f.css("zIndex")&&h())});a(window).resize(function(){e()});f.find(".close").on("click",function(){h();a(this).off("click")});f.find('[data-popmodal-but="close"]').on("click",function(){h();a(this).off("click")});f.find('[data-popmodal-but="ok"]').on("click",function(c){var d;g.onOkBut&&a.isFunction(g.onOkBut)&&
(d=g.onOkBut(c));!1!==d&&h();a(this).off("click");a(g.html).trigger("okbut")});f.find('[data-popmodal-but="cancel"]').on("click",function(){if(g.onCancelBut&&a.isFunction(g.onCancelBut))g.onCancelBut();h();a(this).off("click");a(g.html).trigger("cancelbut")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&h()})}return f},hide:function(){h()}};if(n[b])return n[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return n.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",
function(){var b=a(this).attr("data-popmodal-bind"),b={html:a(b)};void 0!==a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-showclose-but")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!==a(this).attr("data-overflowcontent")&&(b.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!==a(this).attr("data-ondocumentclick-close")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));
void 0!==a(this).attr("data-ondocumentclick-close-prevent")&&(b.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!==a(this).attr("data-inline")&&(b.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!==a(this).attr("data-asmenu")&&(b.asMenu=/^false$/i.test(a(this).attr("data-asmenu")));void 0!==a(this).attr("data-beforeloading-content")&&(b.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&
a.handler()}}})(jQuery);(function(a){a.fn.notifyModal=function(b){function e(){var c=a(".notifyModal");c.removeClass("open");setTimeout(function(){c.remove();-1!=d.duration&&clearTimeout(notifDur);if(d.onClose&&a.isFunction(d.onClose))d.onClose();c.trigger("close")},f)}var h=a(this),c,d,f,m={init:function(b){d=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,icon:!1,onClose:function(){}},b);a(".notifyModal").remove();b=a('<div class="notifyModal '+d.placement+" "+(d.overlay?"overlay":
"")+" "+d.type+" "+(d.icon?"icon":"")+'"></div>');var l=a('<div class="notifyModal_content"></div>'),g=a('<button type="button" class="close">&times;</button>');h=void 0===h[0]?h.selector:h[0].innerHTML;l.append(g,h);b.append(l);a("body").append(b);c=a(".notifyModal");f||(f=c.css("transitionDuration"),f=void 0!==f?1E3*f.replace("s",""):0);c.addClass("open");c.click(function(){e()});-1!=d.duration&&(notifDur=setTimeout(e,d.duration))},hide:function(){e()}};a("html").keydown(function(a){27==a.keyCode&&
e()});if(m[b])return m[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return m.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var b=a(this).attr("data-notifymodal-bind"),e={};void 0!==a(this).attr("data-duration")&&(e.duration=parseInt(a(this).attr("data-duration")));void 0!==a(this).attr("data-placement")&&(e.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-ontop")&&(e.onTop=/^true$/i.test(a(this).attr("data-ontop")));
a(b).notifyModal(e)})})(jQuery);(function(a){a.fn.hintModal=function(b){a(".hintModal").off();var e={init:function(){function b(c,d){var f,h=c.attr("class");f=c.outerWidth();var e=d.outerWidth(),l=c.offset().left,g=a(window).width()-c.offset().left-f,k=f+l-e,q=f+g-e,n=Math.min(f/2+g-e/2,f/2+l-e/2);f=c.hasClass("bottomLeft")?"bottomLeft":c.hasClass("bottomCenter")?"bottomCenter":c.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0===c.data("placement")&&c.data("placement",f);c.removeAttr("class").addClass(h+
" "+function(a){var c=Math.max(k,q,n);return("bottomLeft"==a?0<q:"bottomRight"==a?0<k:0<n)?a:0<q&&q==c?"bottomLeft":0<k&&k==c?"bottomRight":0<n&&n==c?"bottomCenter":a}(c.data("placement")))}a(this).on("mouseenter",function(){var c=a(this).find("> .hintModal_container");1<c[0].textContent.length&&(c.addClass("animated fadeInBottom"),b(a(this),c))});a(this).on("mouseleave",function(){var c=a(this).find("> .hintModal_container");1<c[0].textContent.length&&c.removeClass("animated fadeInBottom")})}};if(e[b])return e[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return e.init.apply(this,arguments)};a(".hintModal").hintModal();document.addEventListener("DOMNodeInserted",function(b){a(b.target).hasClass("hintModal")&&a(".hintModal").hintModal()},!1)})(jQuery);(function(a){a.fn.dialogModal=function(b){function e(){var c=a(".dialogModal");c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");
c.find(".dialogPrev").off("click");c.find(".dialogNext").off("click")},f)}var h=a(this),c,d,f,m={init:function(b){function l(){c.find('[data-dialogmodal-but="close"]').on("click",function(){e();a(this).off("click")});c.find('[data-dialogmodal-but="ok"]').on("click",function(c){var b;d.onOkBut&&a.isFunction(d.onOkBut)&&(b=d.onOkBut(c));!1!==b&&e();a(this).off("click");h.trigger("okbut")});c.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut();
e();a(this).off("click");h.trigger("cancelbut")});c.find('[data-dialogmodal-but="prev"]').on("click",function(){c.find(".dialogPrev").click()});c.find('[data-dialogmodal-but="next"]').on("click",function(){c.find(".dialogNext").click()})}function g(){y.empty().append(h[k].innerHTML);u.find("span").html(h.find(".dialogModal_header")[k].innerHTML);l();if(d.onChange&&a.isFunction(d.onChange))d.onChange(c,k+1);h.trigger("change",{el:c,current:k+1})}d=a.extend({topOffset:0,top:0,type:"",onOkBut:function(){return!0},
onCancelBut:function(){},onLoad:function(){},onClose:function(){},onChange:function(){}},b);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();""!=d.type&&(d.top="calc("+d.top+" + 60px)");var k=0,m=h.length-1;b=a('<div class="dialogModal '+d.type+'" style="top:'+(isNaN(d.topOffset)?d.topOffset:d.topOffset+"px")+'"></div>');var n=a('<div class="dialogModal_container" style="top:'+
(isNaN(d.top)?d.top:d.top+"px")+'"></div>'),r=a('<div class="dialogModal_top animated"></div>'),u=a('<div class="dialogModal_header"></div>'),y=a('<div class="dialogModal_body animated"></div>'),A=a('<button type="button" class="close">&times;</button>');b.append(n);n.append(r,y);r.append(u);u.append(A);y.append(h[k].innerHTML);0<m&&u.append(a('<div class="dialogNext">&rsaquo;</div><div class="dialogPrev notactive">&lsaquo;</div>'));u.append("<span>"+h.find(".dialogModal_header")[k].innerHTML+"</span>");
a("body").append(b).addClass("dialogModalOpen");""==d.type&&(b=b.outerWidth()-n[0].scrollWidth,console.log(b),r.css({right:b+"px"}));c=a(".dialogModal");f||(f=c.css("transitionDuration"),f=void 0!==f?1E3*f.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad(c,k+1);h.trigger("load",{el:c,current:k+1});c.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose();h.trigger("close")});c.addClass("open");setTimeout(function(){""!=d.type&&n.css({opacity:1});r.addClass("fadeInTopBig");
y.addClass("fadeInTopBig")},f+100);l();c.find(".dialogPrev").on("click",function(){0<k&&(--k,k<m&&c.find(".dialogNext").removeClass("notactive"),0===k&&c.find(".dialogPrev").addClass("notactive"),g())});c.find(".dialogNext").on("click",function(){k<m&&(++k,0<k&&c.find(".dialogPrev").removeClass("notactive"),k==m&&c.find(".dialogNext").addClass("notactive"),g())});c.find(".close").on("click",function(){e();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?e():
37==a.keyCode?c.find(".dialogPrev").click():39==a.keyCode&&c.find(".dialogNext").click()})},hide:function(){e()}};if(m[b])return m[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return m.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var b=a(this).attr("data-dialogmodal-bind"),e={};void 0!==a(this).attr("data-topoffset")&&(e.topOffset=a(this).attr("data-topoffset"));void 0!==a(this).attr("data-top")&&(e.top=a(this).attr("data-top"));
void 0!==a(this).attr("data-topoffset")&&(e.type=a(this).attr("data-type"));a(b).dialogModal(e)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);(function(a){a.fn.titleModal=function(b){a(".titleModal").off();var e={init:function(){var b,c,d=a(".titleModal");d.on("mouseenter",function(){b=a(this);var d;if(void 0!==b.attr("title")||"ellipsis"==b.css("textOverflow")||"clip"==b.css("textOverflow")){d=void 0!==b.attr("title")?b.attr("title"):b.text();b.removeAttr("title");
b.attr("data-title",d);var e=a('<div class="titleModal_container animated"></div>');c=a(".titleModal_container");var p=b.attr("data-placement");void 0===p&&(p="bottom");c&&c.remove();b.after(e.append(d));d=p;c=a(".titleModal_container");var e=b.position().left,p=b.position().top,l=b.css("marginLeft"),g=b.css("marginTop"),k=b.outerHeight(),q=b.outerWidth(),n=c.outerWidth(),r=c.outerHeight();switch(d){case "bottom":c.css({top:p+parseInt(g)+k-5+"px",left:e+parseInt(l)+(q-n)/2+"px"}).addClass("fadeInBottom");
break;case "top":c.css({top:p+parseInt(g)-r+"px",left:e+parseInt(l)+(q-n)/2+"px"}).addClass("top fadeInTop");break;case "left":c.css({top:p+parseInt(g)+k/2-r/2+"px",left:e+parseInt(l)-n-10+"px"}).addClass("left fadeInLeft");break;case "right":c.css({top:p+parseInt(g)+k/2-r/2+"px",left:e+parseInt(l)+q+10+"px"}).addClass("right fadeInRight")}}});d.on("mouseleave",function(){b=a(this);var d;if(void 0!==b.attr("data-title")){d=b.attr("data-title");b.removeAttr("data-title");b.attr("title",d);d=c.attr("class");
var e=d.replace("fadeIn","fadeOut");c.removeClass(d).addClass(e);c.remove()}})}};if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return e.init.apply(this,arguments)};a(".titleModal").titleModal();document.addEventListener("DOMNodeInserted",function(b){a(b.target).hasClass("titleModal")&&a(".titleModal").titleModal()},!1)})(jQuery);(function(a){a.fn.confirmModal=function(b){function e(){var b=a(".confirmModal");b.removeClass("open");setTimeout(function(){b.remove();
a("body").removeClass("confirmModalOpen").css({paddingRight:""});a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen")},f)}var h=a(this),c,d,f,m={init:function(b){d=a.extend({topOffset:0,top:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen");a(".confirmModal").remove();b=a('<div class="confirmModal" style="top:'+(isNaN(d.topOffset)?d.topOffset:
d.topOffset+"px")+'"></div>');var l=a('<div class="confirmModal_body animated'+(0!=d.top?" modal":"")+'" style="top:'+(isNaN(d.top)?d.top:d.top+"px")+'"></div>');b.append(l);l.append(h[0].innerHTML);a("body").append(b).addClass("confirmModalOpen");c=a(".confirmModal");f||(f=c.css("transitionDuration"),f=void 0!==f?1E3*f.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad();h.trigger("load");c.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose();h.trigger("close")});
c.addClass("open");setTimeout(function(){l.addClass("fadeInTopBig");setTimeout(function(){l.removeClass("fadeInTopBig").addClass("open")},f+100)},f+100);(function(){function b(){l.addClass("needConfirm");setTimeout(function(){l.removeClass("needConfirm")},f+100)}c.find('[data-confirmmodal-but="close"]').on("click",function(){e();a(this).off("click")});c.find('[data-confirmmodal-but="ok"]').on("click",function(b){var c;d.onOkBut&&a.isFunction(d.onOkBut)&&(c=d.onOkBut(b));!1!==c&&e();h.trigger("okbut");
a(this).off("click")});c.find('[data-confirmmodal-but="cancel"]').on("click",function(){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut();h.trigger("cancelbut");e();a(this).off("click")});c.on("click",function(c){a(c.target).parents().addBack().is(l)||b()});a("html").on("keydown.confirmModalEvent",function(a){27==a.keyCode&&b()})})()},hide:function(){e()}};if(m[b])return m[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return m.init.apply(this,arguments)};
a("* [data-confirmmodal-bind]").bind("click",function(){var b=a(this).attr("data-confirmmodal-bind"),e={};void 0!==a(this).attr("data-topoffset")&&(e.topOffset=a(this).attr("data-topoffset"));void 0!==a(this).attr("data-top")&&(e.top=a(this).attr("data-top"));a(b).confirmModal(e)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery)});
