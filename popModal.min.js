/* popModal 15.04.14 */
!function($){$.fn.popModal=function(f){function popModalClose(){var e=$("."+elemClass),t=e.attr("class"),o=t.replace("fadeIn","fadeOut");e.removeClass(t).addClass(o),console.log(animTime),setTimeout(function(){e.remove(),$("html."+elemClass+"Open").off("."+elemClass+"Event").removeClass(elemClass+"Open")},animTime)}function checkEvent(e,t){var o,n=!1;return o=$._data(e[0],"events"),o&&$.each(o,function(e){e==t&&(n=!0)}),n}var g=$(this),elemObj,isClick=checkEvent(g,"click"),isFixed,overflowContentClass,closeBut,elemClass="popModal",_options,animTime,methods={init:function(c){function _init(){if(g.next("div").hasClass(elemClass))popModalClose();else{$("html."+elemClass+"Open").off("."+elemClass+"Event").removeClass(elemClass+"Open"),$("."+elemClass).remove(),$.isFunction(_options.html)||-1==_options.html.search(/<form/)||(overflowContentClass=""),isFixed="fixed"==g.css("position")?"position:fixed;":"";var a="top:"+eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()+10)+"px",tooltipContainer=$('<div class="'+elemClass+" "+_options.placement+' animated" style="'+isFixed+a+'"></div>'),tooltipContent=$('<div class="'+elemClass+"_content "+overflowContentClass+'"></div>');if(tooltipContainer.append(closeBut,tooltipContent),$.isFunction(_options.html)){var b="Please, waiting...";tooltipContent.append(b),_options.html(function(e){tooltipContent.empty().append(e)})}else tooltipContent.append(_options.html);g.after(tooltipContainer),elemObj=$("."+elemClass),animTime=elemObj.css("animationDuration"),animTime=void 0!=animTime?1e3*animTime.replace("s",""):0,_options.onLoad&&$.isFunction(_options.onLoad)&&_options.onLoad(),elemObj.on("destroyed",function(){_options.onClose&&$.isFunction(_options.onClose)&&_options.onClose()}),getPlacement(),_options.overflowContent&&elemObj.append(elemObj.find("."+elemClass+"_content ."+elemClass+"_footer")),_options.onDocumentClickClose&&$("html").on("click."+elemClass+"Event",function(e){$(this).addClass(elemClass+"Open"),elemObj.is(":hidden")&&popModalClose();var t=$(e.target);if(!t.parents().andSelf().is("."+elemClass)&&!t.parents().andSelf().is(g)){var o=parseInt(t.parents().filter(function(){return"auto"!==$(this).css("zIndex")}).first().css("zIndex"));0/0!==o&&(o=0);var n=t.css("zIndex");"auto"==n&&(n=0),n>o&&(o=n),o<=elemObj.css("zIndex")&&popModalClose()}}),$(window).resize(function(){getPlacement()}),elemObj.find(".close").bind("click",function(){popModalClose()}),elemObj.find('[data-popModalBut="close"]').bind("click",function(){popModalClose()}),elemObj.find('[data-popModalBut="ok"]').bind("click",function(e){var t;_options.onOkBut&&$.isFunction(_options.onOkBut)&&(t=_options.onOkBut(e)),t!==!1&&popModalClose()}),elemObj.find('[data-popModalBut="cancel"]').bind("click",function(){_options.onCancelBut&&$.isFunction(_options.onCancelBut)&&_options.onCancelBut(),popModalClose()}),$("html").on("keydown."+elemClass+"Event",function(e){27==e.keyCode&&popModalClose()})}}function getPlacement(){var e=g.position().left,t=g.position().top,o=g.css("marginLeft"),n=g.css("marginTop"),i=g.outerHeight(),a=g.outerWidth(),s=elemObj.outerWidth(),l=elemObj.outerHeight();switch(_options.placement){case"bottomLeft":elemObj.css({left:e+parseInt(o)+"px"}).addClass("fadeInBottom");break;case"bottomRight":elemObj.css({left:e+parseInt(o)+a-s+"px"}).addClass("fadeInBottom");break;case"bottomCenter":elemObj.css({left:e+parseInt(o)+(a-s)/2+"px"}).addClass("fadeInBottom");break;case"leftTop":elemObj.css({top:t+parseInt(n)+"px",left:e+parseInt(o)-s-10+"px"}).addClass("fadeInLeft");break;case"rightTop":elemObj.css({top:t+parseInt(n)+"px",left:e+parseInt(o)+a+10+"px"}).addClass("fadeInRight");break;case"leftCenter":elemObj.css({top:t+parseInt(n)+i/2-l/2+"px",left:e+parseInt(o)-s-10+"px"}).addClass("fadeInLeft");break;case"rightCenter":elemObj.css({top:t+parseInt(n)+i/2-l/2+"px",left:e+parseInt(o)+a+10+"px"}).addClass("fadeInRight")}elemObj.width(s)}var d={html:"",placement:"bottomLeft",showCloseBut:!0,overflowContent:!0,onDocumentClickClose:!0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}};_options=$.extend(d,c),closeBut=_options.showCloseBut?$('<button type="button" class="close">&times;</button>'):"",overflowContentClass=_options.overflowContent?elemClass+"_contentOverflow":"",isClick?_init():g.on("click",function(){_init()})},hide:function(){popModalClose()}};return methods[f]?methods[f].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof f&&f?void 0:methods.init.apply(this,arguments)},$("* [data-popModalBind]").bind("click",function(){var e=$(this).attr("data-popModalBind"),t={html:$(e).html()};void 0!=$(this).attr("data-placement")&&(t.placement=$(this).attr("data-placement")),void 0!=$(this).attr("data-showCloseBut")&&(t.showCloseBut=/^true$/i.test($(this).attr("data-showCloseBut"))),void 0!=$(this).attr("data-overflowContent")&&(t.overflowContent=/^true$/i.test($(this).attr("data-overflowContent"))),void 0!=$(this).attr("data-onDocumentClickClose")&&(t.onDocumentClickClose=/^true$/i.test($(this).attr("data-onDocumentClickClose"))),$(this).popModal(t)}),$.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(jQuery),function(e){e.fn.notifyModal=function(t){function o(){var t=e("."+d);setTimeout(function(){t.removeClass("open"),setTimeout(function(){t.remove(),-1!=a.duration&&clearTimeout(notifDur)},s)},s)}var n,i,a,s,l=e(this),d="notifyModal",c={init:function(t){var c={duration:2500,placement:"center",onTop:!0};a=e.extend(c,t),""==a.placement&&(a.placement="center"),i=a.onTop?"onTop":"",e("."+d).remove();var p=e('<div class="'+d+" "+a.placement+" "+i+'"></div>'),r=e('<div class="'+d+'_content"></div>'),m=e('<button type="button" class="close">&times;</button>');r.append(m,l[0].innerHTML),p.append(r),e("body").append(p),n=e("."+d),s=n.css("transitionDuration"),s=void 0!=s?1e3*s.replace("s",""):0,setTimeout(function(){n.addClass("open")},s),n.click(function(){o()}),-1!=a.duration&&(notifDur=setTimeout(o,a.duration))},hide:function(){o()}};return e("html").keydown(function(e){27==e.keyCode&&o()}),c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:c.init.apply(this,arguments)},e("* [data-notifyModalBind]").bind("click",function(){var t=e(this).attr("data-notifyModalBind"),o={};void 0!=e(this).attr("data-duration")&&(o.duration=parseInt(e(this).attr("data-duration"))),void 0!=e(this).attr("data-placement")&&(o.placement=e(this).attr("data-placement")),void 0!=e(this).attr("data-onTop")&&(o.onTop=/^true$/i.test(e(this).attr("data-onTop"))),e(t).notifyModal(o)})}(jQuery),function(e){e.fn.hintModal=function(t){var o={init:function(){var t="hintModal",o=e("."+t+"_container"),n=e("."+t);o.addClass("animated fadeInBottom"),n.mouseenter(function(){var n=e(this).find("."+t+"_container");o.css({display:"none"});var i=n.attr("class"),a=i.replace("fadeOut","fadeIn");n.removeClass(i).addClass(a).css({display:"block"})}),n.mouseleave(function(){var e=o.attr("class"),t=e.replace("fadeIn","fadeOut");o.removeClass(e).addClass(t).css({display:"none"})})}};return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:o.init.apply(this,arguments)}()}(jQuery),function(e){e.fn.dialogModal=function(t){function o(){var t=e("."+d);setTimeout(function(){t.removeClass("open"),setTimeout(function(){t.remove(),e("html."+d+"Open").off("."+d+"Event").removeClass(d+"Open"),t.find(".dialogPrev").off("click"),t.find(".dialogNext").off("click")},s)},s)}var n,i,a,s,l=e(this),d="dialogModal",c={init:function(t){function c(){function t(){var t=i.outerHeight(),o=e(window).height();i.css(o>t+80?{marginTop:(e(window).height()-t)/2+"px"}:{marginTop:"60px"}),setTimeout(function(){n.addClass("open"),i.css({marginTop:parseInt(i.css("marginTop"))-20+"px"})},s),c()}function c(){n.find('[data-dialogModalBut="close"]').bind("click",function(){o()}),n.find('[data-dialogModalBut="ok"]').bind("click",function(t){var n;a.onOkBut&&e.isFunction(a.onOkBut)&&(n=a.onOkBut(t)),n!==!1&&o()}),n.find('[data-dialogModalBut="cancel"]').bind("click",function(){a.onCancelBut&&e.isFunction(a.onCancelBut)&&a.onCancelBut(),o()})}e("html."+d+"Open").off("."+d+"Event").removeClass(d+"Open"),e(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click"),e("."+d).remove();var p=0,r=l.length-1,m=e('<div class="'+d+'"></div>'),u=e('<div class="'+d+'_container"></div>'),f=e('<button type="button" class="close">&times;</button>'),C=e('<div class="'+d+'_body"></div>');m.append(u),u.append(f,C),C.append(l[p].innerHTML),r>0&&u.prepend(e('<div class="dialogPrev notactive"></div><div class="dialogNext"></div>')),e("html").append(m),n=e("."+d),i=e("."+d+"_container"),s=i.css("transitionDuration"),s=void 0!=s?1e3*s.replace("s",""):0,a.onLoad&&e.isFunction(a.onLoad)&&a.onLoad(),n.on("destroyed",function(){a.onClose&&e.isFunction(a.onClose)&&a.onClose()}),t(),n.find(".dialogPrev").bind("click",function(){p>0&&(--p,r>p&&n.find(".dialogNext").removeClass("notactive"),0==p&&n.find(".dialogPrev").addClass("notactive"),C.empty().append(l[p].innerHTML),t())}),n.find(".dialogNext").bind("click",function(){r>p&&(++p,p>0&&n.find(".dialogPrev").removeClass("notactive"),p==r&&n.find(".dialogNext").addClass("notactive"),C.empty().append(l[p].innerHTML),t())}),n.find(".close").bind("click",function(){o()}),e("html").on("keydown."+d+"Event",function(e){27==e.keyCode?o():37==e.keyCode?n.find(".dialogPrev").click():39==e.keyCode&&n.find(".dialogNext").click()})}var p={onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}};a=e.extend(p,t),c()},hide:function(){o()}};return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:c.init.apply(this,arguments)},e("* [data-dialogModalBind]").bind("click",function(){var t=e(this).attr("data-dialogModalBind");e(t).dialogModal()}),e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(jQuery);
