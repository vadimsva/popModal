/*
popModal - 1.16 [02.03.15]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(b){function g(){function d(a){var c=Math.max(w,x,y);return("bottomLeft"==a?0<x:"bottomRight"==a?0<w:0<y)?a:0<x&&x==c?"bottomLeft":0<w&&w==c?"bottomRight":0<y&&y==c?"bottomCenter":a}if(f.inline)var b=c.position().left,g=c.position().top;else b=c.offset().left,g=c.offset().top;var k=parseInt(c.css("marginLeft"));parseInt(c.css("paddingLeft"));var h=parseInt(c.css("marginTop")),q=c.outerHeight(),l=c.outerWidth(),m=parseInt(e.css("maxWidth")),p=parseInt(e.css("minWidth")),
n=e.outerHeight();r?isNaN(m)&&(m=300):(isNaN(p)&&(p=180),m=p);e.css({width:m+"px"});var v,u=c.offset().left,z=a(window).width()-c.offset().left-l,B=c.offset().top,p=u-10-m,w=l+u-m,C=z-10-m,x=l+z-m,y=Math.min(l/2+z-m/2,l/2+u-m/2),u=B-n/2;/^bottom/.test(f.placement)?v=d(f.placement):/^left/.test(f.placement)?v=0<p?"leftCenter"==f.placement&&0<u?"leftCenter":"leftTop":d("bottomLeft"):/^right/.test(f.placement)&&(v=0<C?"rightCenter"==f.placement&&0<u?"rightCenter":"rightTop":d("bottomRight"));e.removeAttr("class").addClass("popModal animated "+
v);switch(v){case "bottomLeft":e.css({top:g+h+q+10+"px",left:b+k+"px"}).addClass("fadeInBottom");break;case "bottomRight":e.css({top:g+h+q+10+"px",left:b+k+l-m+"px"}).addClass("fadeInBottom");break;case "bottomCenter":e.css({top:g+h+q+10+"px",left:b+k+(l-m)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":e.css({top:g+h+"px",left:b+k-m-10+"px"}).addClass("fadeInLeft");break;case "rightTop":e.css({top:g+h+"px",left:b+k+l+10+"px"}).addClass("fadeInRight");break;case "leftCenter":e.css({top:g+
h+q/2-n/2+"px",left:b+k-m-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":e.css({top:g+h+q/2-n/2+"px",left:b+k+l+10+"px"}).addClass("fadeInRight")}}function h(){e=a(".popModal");e.length&&(d(),l||(l=e.css("animationDuration"),l=void 0!=l?1E3*l.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());e.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},l))}function d(){var a=e.attr("class"),c=a.replace("fadeIn",
"fadeOut");e.removeClass(a).addClass(c)}var c=a(this),e,k="",r=!0,q="",p,f,l,n,m={init:function(d){f=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,beforeLoadingContent:"Please, wait...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},d);if(0!=a("body").find(".popModal").length&&a("body").find(".popModal").attr("data-popmodal_id")==c.attr("data-popmodal_id"))h();
else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();f.showCloseBut&&(q=a('<button type="button" class="close">&times;</button>'));"fixed"==c.css("position")&&(k="position:fixed;");p=f.overflowContent?"popModal_contentOverflow":"";n=(new Date).getMilliseconds();c.attr("data-popmodal_id",n);d=a('<div class="popModal animated" style="'+k+'" data-popmodal_id="'+n+'"></div>');var b=a('<div class="popModal_content '+
p+'"></div>');d.append(q,b);a.isFunction(f.html)?(b.append(f.beforeLoadingContent),f.html(function(c){b.empty().append(c);e=a(".popModal");r=!0;g()})):("object"==a.type(f.html)&&f.html.after(a('<div class="popModal_source"></div>')),b.append(f.html));500>=a(window).width()&&(f.inline=!0);f.inline?c.after(d):a("body").append(d);e=a(".popModal");e.find(".popModal_footer")&&e.find(".popModal_content").css({marginBottom:e.find(".popModal_footer").outerHeight()+"px"});a.isFunction(f.html)||a.type(f.html);
if(f.onLoad&&a.isFunction(f.onLoad))f.onLoad();e.on("destroyed",function(){if(f.onClose&&a.isFunction(f.onClose))f.onClose()});r=!0;("absolute"!=c.parent().css("position")||"fixed"!=c.parent().css("position"))&&270>e.find(".popModal_content").width()&&20>=e.find(".popModal_content").height()&&0==e.find(".popModal_footer").length&&(r=!1);g();if(f.onDocumentClickClose)a("html").on("click.popModalEvent",function(d){a(this).addClass("popModalOpen");e.is(":hidden")&&h();var b=a(d.target);b.parents().andSelf().is(".popModal")||
b.parents().andSelf().is(c)||(d=parseInt(b.parents().filter(function(){return"auto"!==a(this).css("zIndex")}).first().css("zIndex")),isNaN(d)&&(d=0),""!=f.onDocumentClickClosePrevent&&b.is(f.onDocumentClickClosePrevent)&&(d=9999),b=b.css("zIndex"),"auto"==b&&(b=0),d<b&&(d=b),d<=e.css("zIndex")&&h())});a(window).resize(function(){g()});e.find(".close").on("click",function(){h();a(this).off("click")});e.find('[data-popmodal-but="close"]').on("click",function(){h();a(this).off("click")});e.find('[data-popmodal-but="ok"]').on("click",
function(c){var d;f.onOkBut&&a.isFunction(f.onOkBut)&&(d=f.onOkBut(c));!1!==d&&h();a(this).off("click")});e.find('[data-popmodal-but="cancel"]').on("click",function(){if(f.onCancelBut&&a.isFunction(f.onCancelBut))f.onCancelBut();h();a(this).off("click")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&h()})}return e},hide:function(){h()}};if(m[b])return m[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return m.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",
function(){var b=a(this).attr("data-popmodal-bind"),b={html:a(b)};void 0!=a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showclose-but")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!=a(this).attr("data-overflowcontent")&&(b.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!=a(this).attr("data-ondocumentclick-close")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));
void 0!=a(this).attr("data-ondocumentclick-close-prevent")&&(b.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!=a(this).attr("data-inline")&&(b.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!=a(this).attr("data-beforeloading-content")&&(b.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(b){function g(){var c=a(".notifyModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();-1!=e.duration&&clearTimeout(notifDur);if(e.onClose&&a.isFunction(e.onClose))e.onClose()},k)},k)}var h=a(this),d,c="",e,k,r={init:function(b){e=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,onClose:function(){}},b);e.overlay&&(c="overlay");a(".notifyModal").remove();b=a('<div class="notifyModal '+e.placement+" "+c+" "+e.type+
'"></div>');var r=a('<div class="notifyModal_content"></div>'),f=a('<button type="button" class="close">&times;</button>');h=void 0==h[0]?h.selector:h[0].innerHTML;r.append(f,h);b.append(r);a("body").append(b);d=a(".notifyModal");k||(k=d.css("transitionDuration"),k=void 0!=k?1E3*k.replace("s",""):0);setTimeout(function(){d.addClass("open")},k);d.click(function(){g()});-1!=e.duration&&(notifDur=setTimeout(g,e.duration))},hide:function(){g()}};a("html").keydown(function(a){27==a.keyCode&&g()});if(r[b])return r[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return r.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var b=a(this).attr("data-notifymodal-bind"),g={};void 0!=a(this).attr("data-duration")&&(g.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(g.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-ontop")&&(g.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(b).notifyModal(g)})})(jQuery);
(function(a){a.fn.hintModal=function(b){a(".hintModal").off();var g={init:function(b){function d(c,d){var b;b=c.outerWidth();var g=d.outerWidth(),h=c.offset().left,p=a(window).width()-c.offset().left-b,f=b+h-g,l=b+p-g,n=Math.min(b/2+p-g/2,b/2+h-g/2);b=c.hasClass("bottomLeft")?"bottomLeft":c.hasClass("bottomCenter")?"bottomCenter":c.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0==c.data("placement")&&c.data("placement",b);c.removeAttr("class").addClass("hintModal "+function(a){var c=Math.max(f,
l,n);return("bottomLeft"==a?0<l:"bottomRight"==a?0<f:0<n)?a:0<l&&l==c?"bottomLeft":0<f&&f==c?"bottomRight":0<n&&n==c?"bottomCenter":a}(c.data("placement")))}a(this).on("mouseenter",function(){var c=a(this).find("> .hintModal_container");1<c[0].innerText.length&&(c.addClass("animated fadeInBottom"),d(a(this),c))});a(this).on("mouseleave",function(){var c=a(this).find("> .hintModal_container");1<c[0].innerText.length&&c.removeClass("animated fadeInBottom")})}};if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof b||!b)return g.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(b){function g(){var c=a(".dialogModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");c.find(".dialogPrev").off("click");c.find(".dialogNext").off("click")},e)},e)}var h=a(this),d,c,e,k={init:function(b){function k(){d.find('[data-dialogmodal-but="close"]').on("click",function(){g();a(this).off("click")});
d.find('[data-dialogmodal-but="ok"]').on("click",function(b){var d;c.onOkBut&&a.isFunction(c.onOkBut)&&(d=c.onOkBut(b));!1!==d&&g();a(this).off("click")});d.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(c.onCancelBut&&a.isFunction(c.onCancelBut))c.onCancelBut();g();a(this).off("click")});d.find('[data-dialogmodal-but="prev"]').on("click",function(){d.find(".dialogPrev").click()});d.find('[data-dialogmodal-but="next"]').on("click",function(){d.find(".dialogNext").click()})}function p(){t.empty().append(h[f].innerHTML);
m.find("span").html(h.find(".dialogModal_header")[f].innerHTML);k();if(c.onChange&&a.isFunction(c.onChange))c.onChange(d,f+1)}c=a.extend({topOffset:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){},onChange:function(){}},b);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();var f=0,l=h.length-1;b=a('<div class="dialogModal" style="top:'+
c.topOffset+'px"></div>');var n=a('<div class="dialogModal_top animated"></div>'),m=a('<div class="dialogModal_header"></div>'),t=a('<div class="dialogModal_body animated"></div>'),A=a('<button type="button" class="close">&times;</button>');b.append(n,t);n.append(m);m.append(A);t.append(h[f].innerHTML);0<l&&m.append(a('<div class="dialogNext">&rsaquo;</div><div class="dialogPrev notactive">&lsaquo;</div>'));m.append("<span>"+h.find(".dialogModal_header")[f].innerHTML+"</span>");a("body").append(b).addClass("dialogModalOpen");
b=b.outerWidth()-b[0].scrollWidth;n.css({right:b+"px"});d=a(".dialogModal");e||(e=d.css("transitionDuration"),e=void 0!=e?1E3*e.replace("s",""):0);if(c.onLoad&&a.isFunction(c.onLoad))c.onLoad(d,f+1);d.on("destroyed",function(){if(c.onClose&&a.isFunction(c.onClose))c.onClose()});setTimeout(function(){d.addClass("open");setTimeout(function(){n.addClass("fadeInTopBig");t.addClass("fadeInTopBig")},2*e)},e);k();d.find(".dialogPrev").on("click",function(){0<f&&(--f,f<l&&d.find(".dialogNext").removeClass("notactive"),
0==f&&d.find(".dialogPrev").addClass("notactive"),p())});d.find(".dialogNext").on("click",function(){f<l&&(++f,0<f&&d.find(".dialogPrev").removeClass("notactive"),f==l&&d.find(".dialogNext").addClass("notactive"),p())});d.find(".close").on("click",function(){g();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?g():37==a.keyCode?d.find(".dialogPrev").click():39==a.keyCode&&d.find(".dialogNext").click()})},hide:function(){g()}};if(k[b])return k[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return k.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var b=a(this).attr("data-dialogmodal-bind"),g={};void 0!=a(this).attr("data-topoffset")&&(g.topOffset=a(this).attr("data-topoffset"));a(b).dialogModal(g)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(b){a(".titleModal").off();var g={init:function(b){var d,c;b=a(".titleModal");b.on("mouseenter",function(){d=a(this);if(void 0!=d.attr("title")||"ellipsis"==d.css("textOverflow")||"clip"==d.css("textOverflow")){titleAttr=void 0!=d.attr("title")?d.attr("title"):d.text();d.removeAttr("title");d.attr("data-title",titleAttr);titleModal=a('<div class="titleModal_container animated"></div>');c=a(".titleModal_container");placement=d.attr("data-placement");void 0==placement&&
(placement="bottom");c&&c.remove();d.append(titleModal.append(titleAttr));c=a(".titleModal_container");var b=d.position().left,g=d.position().top,h=d.css("marginLeft"),q=d.css("marginTop"),p=d.css("marginBottom"),f=d.outerHeight(),l=d.outerWidth(),n=c.css("marginTop"),m=c.outerWidth(),t=c.outerHeight();switch(placement){case "bottom":c.css({marginTop:parseInt(n)-parseInt(p)+"px",left:b+parseInt(h)+(l-m)/2+"px"}).addClass("fadeInBottom");break;case "top":c.css({top:g+parseInt(q)-t+"px",left:b+parseInt(h)+
(l-m)/2+"px"}).addClass("top fadeInTop");break;case "left":c.css({top:g+parseInt(q)+f/2-t/2+"px",left:b+parseInt(h)-m-10+"px"}).addClass("left fadeInLeft");break;case "right":c.css({top:g+parseInt(q)+f/2-t/2+"px",left:b+parseInt(h)+l+10+"px"}).addClass("right fadeInRight")}}});b.on("mouseleave",function(){d=a(this);if(void 0!=d.attr("data-title")){titleAttr=d.attr("data-title");d.removeAttr("data-title");d.attr("title",titleAttr);var b=c.attr("class"),g=b.replace("fadeIn","fadeOut");c.removeClass(b).addClass(g);
c.remove()}})}};if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return g.init.apply(this,arguments)};a(".titleModal").titleModal()})(jQuery);
(function(a){a.fn.confirmModal=function(b){function g(){var b=a(".confirmModal");setTimeout(function(){b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass("confirmModalOpen").css({paddingRight:""});a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen")},e)},e)}var h=a(this),d,c,e,k={init:function(b){c=a.extend({topOffset:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen");
a(".confirmModal").remove();b=a('<div class="confirmModal" style="top:'+c.topOffset+'px"></div>');var k=a('<div class="confirmModal_body animated"></div>');b.append(k);k.append(h[0].innerHTML);a("body").append(b).addClass("confirmModalOpen");d=a(".confirmModal");e||(e=d.css("transitionDuration"),e=void 0!=e?1E3*e.replace("s",""):0);if(c.onLoad&&a.isFunction(c.onLoad))c.onLoad();d.on("destroyed",function(){if(c.onClose&&a.isFunction(c.onClose))c.onClose()});setTimeout(function(){d.addClass("open");
setTimeout(function(){k.addClass("fadeInTopBig")},e+100)},e);(function(){d.find('[data-confirmmodal-but="close"]').on("click",function(){g();a(this).off("click")});d.find('[data-confirmmodal-but="ok"]').on("click",function(b){var d;c.onOkBut&&a.isFunction(c.onOkBut)&&(d=c.onOkBut(b));!1!==d&&g();a(this).off("click")});d.find('[data-confirmmodal-but="cancel"]').on("click",function(){if(c.onCancelBut&&a.isFunction(c.onCancelBut))c.onCancelBut();g();a(this).off("click")})})()},hide:function(){g()}};
if(k[b])return k[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return k.init.apply(this,arguments)};a("* [data-confirmmodal-bind]").bind("click",function(){var b=a(this).attr("data-confirmmodal-bind"),g={};void 0!=a(this).attr("data-topoffset")&&(g.topOffset=a(this).attr("data-topoffset"));a(b).confirmModal(g)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
