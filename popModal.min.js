/* popModal - 19.05.14 */
(function(a){a.fn.popModal=function(b){function k(){function b(a){var c=Math.max(B,C,D);return(a==q?0<C:a==u?0<B:0<D)?a:0<C&&C==c?q:0<B&&B==c?u:0<deltaBC&&D==c?t:a}var g=d.position().left,h=d.position().top,m=parseInt(d.css("marginLeft"));parseInt(d.css("paddingLeft"));var f=parseInt(d.css("marginTop")),k=d.outerHeight(),n=d.outerWidth(),r=parseInt(c.css("maxWidth")),v=parseInt(c.css("minWidth")),y=c.outerHeight();p?isNaN(r)&&(r=300):(isNaN(v)&&(v=180),r=v);c.css({width:r+"px"});var A,z=d.offset().left,
E=a(window).width()-d.offset().left-n,H=d.offset().top,v=z-10-r,B=n+z-r,I=E-10-r,C=n+E-r,D=Math.min(n/2+E-r/2,n/2+z-r/2),z=H-y/2;/^bottom/.test(l.placement)?A=b(l.placement):/^left/.test(l.placement)?A=0<v?l.placement==s&&0<z?s:w:b(q):/^right/.test(l.placement)&&(A=0<I?l.placement==F&&0<z?F:G:b(u));c.removeAttr("class").addClass(e+" animated "+A);switch(A){case q:c.css({top:h+f+k+10+"px",left:g+m+"px"}).addClass(x+"Bottom");break;case u:c.css({top:h+f+k+10+"px",left:g+m+n-r+"px"}).addClass(x+"Bottom");
break;case t:c.css({top:h+f+k+10+"px",left:g+m+(n-r)/2+"px"}).addClass(x+"Bottom");break;case w:c.css({top:h+f+"px",left:g+m-r-10+"px"}).addClass(x+"Left");break;case G:c.css({top:h+f+"px",left:g+m+n+10+"px"}).addClass(x+"Right");break;case s:c.css({top:h+f+k/2-y/2+"px",left:g+m-r-10+"px"}).addClass(x+"Left");break;case F:c.css({top:h+f+k/2-y/2+"px",left:g+m+n+10+"px"}).addClass(x+"Right")}}function h(){c=a("."+e);f();n||(n=c.css("animationDuration"),n=void 0!=n?1E3*n.replace("s",""):0);setTimeout(function(){c.remove();
a("html."+e+"Open").off("."+e+"Event").removeClass(e+"Open")},n)}function f(){var a=c.attr("class"),e=a.replace(x,v);c.removeClass(a).addClass(e)}var d=a(this),c,g="",p=!0,m="",e="popModal",l,n,x="fadeIn",v="fadeOut",q="bottomLeft",t="bottomCenter",u="bottomRight",w="leftTop",s="leftCenter",G="rightTop",F="rightCenter",y={init:function(b){l=a.extend({html:"",placement:q,showCloseBut:!0,onDocumentClickClose:!0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},
b);if(d.next("div").hasClass(e))h();else{a("html."+e+"Open").off("."+e+"Event").removeClass(e+"Open");a("."+e).remove();l.showCloseBut&&(m=a('<button type="button" class="close">&times;</button>'));"fixed"==d.css("position")&&(g="position:fixed;");b=a('<div class="'+e+' animated" style="'+g+'"></div>');var f=a('<div class="'+e+"_content "+e+'_contentOverflow"></div>');b.append(m,f);a.isFunction(l.html)?(f.append("Please, waiting..."),l.html(function(b){f.empty().append(b);c=a("."+e);p=!0;-1!=f[0].innerHTML.search(/<form/)?
c.find("."+e+"_content").removeClass(e+"_contentOverflow"):c.find("."+e+"_content").addClass(e+"_contentOverflow");k()})):f.append(l.html);d.after(b);c=a("."+e);c.find("."+e+"_footer")&&c.find("."+e+"_content").css({marginBottom:c.find("."+e+"_footer").outerHeight()+"px"});a.isFunction(l.html)||(-1!=("string"==a.type(l.html)?l.html:l.html[0].outerHTML).search(/<form/)||200>c.find("."+e+"_content").outerHeight())&&c.find("."+e+"_content").removeClass(e+"_contentOverflow");if(l.onLoad&&a.isFunction(l.onLoad))l.onLoad();
c.on("destroyed",function(){if(l.onClose&&a.isFunction(l.onClose))l.onClose()});p=!0;("absolute"!=d.parent().css("position")||"fixed"!=d.parent().css("position"))&&270>c.find("."+e+"_content").width()&&60>c.find("."+e+"_content").height()&&(p=!1);k();if(l.onDocumentClickClose)a("html").on("click."+e+"Event",function(b){a(this).addClass(e+"Open");c.is(":hidden")&&h();var g=a(b.target);g.parents().andSelf().is("."+e)||g.parents().andSelf().is(d)||(b=parseInt(g.parents().filter(function(){return"auto"!==
a(this).css("zIndex")}).first().css("zIndex")),isNaN(b)&&(b=0),g=g.css("zIndex"),"auto"==g&&(g=0),b<g&&(b=g),b<=c.css("zIndex")&&h())});a(window).resize(function(){k()});c.find(".close").bind("click",function(){h()});c.find('[data-popModalBut="close"]').bind("click",function(){h()});c.find('[data-popModalBut="ok"]').bind("click",function(c){var e;l.onOkBut&&a.isFunction(l.onOkBut)&&(e=l.onOkBut(c));!1!==e&&h()});c.find('[data-popModalBut="cancel"]').bind("click",function(){if(l.onCancelBut&&a.isFunction(l.onCancelBut))l.onCancelBut();
h()});a("html").on("keydown."+e+"Event",function(a){27==a.keyCode&&h()})}},hide:function(){h()}};if(y[b])return y[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return y.init.apply(this,arguments)};a("* [data-popModalBind]").bind("click",function(){var b=a(this).attr("data-popModalBind"),b={html:a(b).html()};void 0!=a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showCloseBut")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showCloseBut")));
void 0!=a(this).attr("data-overflowContent")&&(b.overflowContent=/^true$/i.test(a(this).attr("data-overflowContent")));void 0!=a(this).attr("data-onDocumentClickClose")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-onDocumentClickClose")));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(b){function k(){var c=a("."+d);setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();-1!=g.duration&&clearTimeout(notifDur)},p)},p)}var h=a(this),f,d="notifyModal",c="",g,p,m={init:function(e){g=a.extend({duration:2500,placement:"center",onTop:!0},e);""==g.placement&&(g.placement="center");g.onTop&&(c="onTop");a("."+d).remove();e=a('<div class="'+d+" "+g.placement+" "+c+'"></div>');var b=a('<div class="'+d+'_content"></div>'),m=a('<button type="button" class="close">&times;</button>');
h=void 0==h[0]?h.selector:h[0].innerHTML;b.append(m,h);e.append(b);a("body").append(e);f=a("."+d);p||(p=f.css("transitionDuration"),p=void 0!=p?1E3*p.replace("s",""):0);setTimeout(function(){f.addClass("open")},p);f.click(function(){k()});-1!=g.duration&&(notifDur=setTimeout(k,g.duration))},hide:function(){k()}};a("html").keydown(function(a){27==a.keyCode&&k()});if(m[b])return m[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return m.init.apply(this,arguments)};
a("* [data-notifyModalBind]").bind("click",function(){var b=a(this).attr("data-notifyModalBind"),k={};void 0!=a(this).attr("data-duration")&&(k.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(k.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-onTop")&&(k.onTop=/^true$/i.test(a(this).attr("data-onTop")));a(b).notifyModal(k)})})(jQuery);
(function(a){a.fn.hintModal=function(b){var k=a(".hintModal_container"),h=a(".hintModal"),f;bl="bottomLeft";bc="bottomCenter";br="bottomRight";k.addClass("animated fadeInBottom");var d={init:function(c){h.mouseenter(function(){var c,b,d=h.outerWidth();b=k.outerWidth();var e=h.offset().left,f=a(window).width()-h.offset().left-d;c=d+e-b;var n=d+f-b,d=Math.min(d/2+f-b/2,d/2+e-b/2);b=h.hasClass(bl)?bl:h.hasClass(bc)?bc:h.hasClass(br)?br:bl;void 0==h.data("placement")&&h.data("placement",b);b=h.data("placement");
e=Math.max(c,n,d);c=(b==bl?0<n:b==br?0<c:0<d)?b:0<n&&n==e?bl:0<c&&c==e?br:0<deltaBC&&d==e?bc:b;h.removeAttr("class").addClass("hintModal "+c);c=a(this).find(".hintModal_container");k.css({display:"none"});n=c.attr("class");d=n.replace("fadeOut","fadeIn");c.removeClass(n).addClass(d).css({display:"block"})});h.mouseleave(function(){var a=k.attr("class"),c=a.replace("fadeIn","fadeOut");k.removeClass(a).addClass(c);f||(f=k.css("animationDuration"),f=void 0!=f?1E3*f.replace("s",""):0);setTimeout(function(){k.css({display:"none"})},
f)})}};if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return d.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(b){function k(){var b=a("."+c);setTimeout(function(){b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass(c+"Open");a("html."+c+"Open").off("."+c+"Event").removeClass(c+"Open");b.find("."+g).off("click");b.find("."+p).off("click")},e)},e)}var h=a(this),f,d,c="dialogModal",g="dialogPrev",p="dialogNext",m,e,l={init:function(b){function l(){var b=d.outerHeight();a(window).height()>b+80?d.css({marginTop:(a(window).height()-b)/2+"px"}):d.css({marginTop:"60px"});
a("body").addClass(c+"Open");f.addClass("open");setTimeout(function(){f.addClass("open");d.css({marginTop:parseInt(d.css("marginTop"))-20+"px"})},e);v()}function v(){f.find('[data-dialogModalBut="close"]').bind("click",function(){k()});f.find('[data-dialogModalBut="ok"]').bind("click",function(c){var b;m.onOkBut&&a.isFunction(m.onOkBut)&&(b=m.onOkBut(c));!1!==b&&k()});f.find('[data-dialogModalBut="cancel"]').bind("click",function(){if(m.onCancelBut&&a.isFunction(m.onCancelBut))m.onCancelBut();k()})}
m=a.extend({onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html."+c+"Open").off("."+c+"Event").removeClass(c+"Open");a("."+c+" ."+g+", ."+c+" ."+p).off("click");a("."+c).remove();var q=0,t=h.length-1;b=a('<div class="'+c+'"></div>');var u=a('<div class="'+c+'_container"></div>'),w=a('<button type="button" class="close">&times;</button>'),s=a('<div class="'+c+'_body"></div>');b.append(u);u.append(w,s);s.append(h[q].innerHTML);0<t&&u.prepend(a('<div class="'+
g+' notactive"></div><div class="'+p+'"></div>'));a("body").append(b);f=a("."+c);d=a("."+c+"_container");e||(e=f.css("transitionDuration"),e=void 0!=e?1E3*e.replace("s",""):0);if(m.onLoad&&a.isFunction(m.onLoad))m.onLoad();f.on("destroyed",function(){if(m.onClose&&a.isFunction(m.onClose))m.onClose()});l();f.find("."+g).bind("click",function(){0<q&&(--q,q<t&&f.find("."+p).removeClass("notactive"),0==q&&f.find("."+g).addClass("notactive"),s.empty().append(h[q].innerHTML),l())});f.find("."+p).bind("click",
function(){q<t&&(++q,0<q&&f.find("."+g).removeClass("notactive"),q==t&&f.find("."+p).addClass("notactive"),s.empty().append(h[q].innerHTML),l())});f.find(".close").bind("click",function(){k()});a("html").on("keydown."+c+"Event",function(a){27==a.keyCode?k():37==a.keyCode?f.find("."+g).click():39==a.keyCode&&f.find("."+p).click()})},hide:function(){k()}};if(l[b])return l[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return l.init.apply(this,arguments)};a("* [data-dialogModalBind]").bind("click",
function(){var b=a(this).attr("data-dialogModalBind");a(b).dialogModal()});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(b){var k={init:function(b){function f(){var a=c.attr("class"),b=a.replace(k,m);c.removeClass(a).addClass(b)}var d,c;b=a("*[data-titleModal]");var g,k="fadeIn",m="fadeOut";b.mouseenter(function(){d=a(this);titleAttr=d.attr("title");d.removeAttr("title");d.attr("data-title",titleAttr);titleModal=a('<div class="titleModal animated"></div>');c=a(".titleModal");placement=d.attr("data-placement");void 0==placement&&(placement="bottom");c&&c.remove();d.after(titleModal.append(titleAttr));
c=a(".titleModal");var b=d.position().left,f=d.position().top,g=d.css("marginLeft"),h=d.css("marginTop"),m=d.css("marginBottom"),q=d.outerHeight(),t=d.outerWidth(),u=c.css("marginTop"),w=c.outerWidth(),s=c.outerHeight();switch(placement){case "bottom":c.css({marginTop:parseInt(u)-parseInt(m)+"px",left:b+parseInt(g)+(t-w)/2+"px"}).addClass(k+"Bottom");break;case "top":c.css({top:f+parseInt(h)-s+"px",left:b+parseInt(g)+(t-w)/2+"px"}).addClass("top "+k+"Top");break;case "left":c.css({top:f+parseInt(h)+
q/2-s/2+"px",left:b+parseInt(g)-w-10+"px"}).addClass("left "+k+"Left");break;case "right":c.css({top:f+parseInt(h)+q/2-s/2+"px",left:b+parseInt(g)+t+10+"px"}).addClass("right "+k+"Right")}});b.mouseleave(function(){d=a(this);titleAttr=d.attr("data-title");d.removeAttr("data-title");d.attr("title",titleAttr);f();g||(g=c.css("animationDuration"),g=void 0!=g?1E3*g.replace("s",""):0);setTimeout(function(){c.remove()},g)})}};if(k[b])return k[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof b||!b)return k.init.apply(this,arguments)}()})(jQuery);
