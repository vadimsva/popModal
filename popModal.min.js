function notifyModal(o){function e(){setTimeout(function(){$("."+n).removeClass("open"),setTimeout(function(){$("."+n).remove(),-1!=_options.duration&&clearTimeout(notifDur)},d)},d)}var t,n="notifyModal",i={html:"",duration:2500,placement:"center",onTop:!0};_options=$.extend(i,o),""==_options.placement&&(_options.placement="center"),t=_options.onTop?"onTop":"",$("."+n).remove();var s=$('<div class="'+n+" "+_options.placement+" "+t+'"></div>'),a=$('<div class="'+n+'_content"></div>'),l=$('<button type="button" class="close">&times;</button>');a.append(l,_options.html),s.append(a),$("body").append(s);var d=$("."+n).css("transitionDuration");d=void 0!=d&&"0s"!=d?1e3*d.replace("s",""):0,setTimeout(function(){$("."+n).addClass("open")},d),$("."+n).click(function(){e()}),-1!=_options.duration&&(notifDur=setTimeout(e,_options.duration)),$("html").keydown(function(o){27==o.keyCode&&e()})}function hintModal(){var o="hintModal",e=!1;if($("."+o).length){var t=$("."+o+"_container").css("transitionDuration");t=void 0!=t&&"0s"!=t?1e3*t.replace("s",""):0}$("."+o).mouseenter(function(){var n=$(this).find("."+o+"_container");$("."+o+"_container").removeClass("open").css({display:"none"}),n.css({display:"block"}),setTimeout(function(){n.addClass("open"),e=!0},t)}),$("."+o).mouseleave(function(){var n=$("."+o+"_container");e&&setTimeout(function(){n.removeClass("open"),setTimeout(function(){n.css({display:"none"}),e=!1,t=0},t)},t)})}!function($){$.fn.popModal=function(f){function popModalClose(){setTimeout(function(){$("."+modalClass).removeClass("open"),setTimeout(function(){$("."+modalClass).remove(),$("html."+modalClass+"Open").off(".popModalEvent").removeClass(modalClass+"Open")},animTime)},animTime)}function checkEvent(o,e){var t,n=!1;return t=$._data(o[0],"events"),t&&$.each(t,function(o){o==e&&(n=!0)}),n}var g=$(this),isClick=checkEvent(g,"click"),isFixed,overflowContentClass,closeBut,modalClass="popModal",_options,animTime,methods={init:function(c){function _init(){if(g.next("div").hasClass(modalClass))popModalClose();else{$("html."+modalClass+"Open").off(".popModalEvent").removeClass(modalClass+"Open"),$("."+modalClass).remove(),isFixed="fixed"==g.css("position")?"position:fixed;":"";var a="top:"+eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()+10)+"px",tooltipContainer=$('<div class="'+modalClass+" "+_options.placement+'" style="'+isFixed+a+'"></div>'),tooltipContent=$('<div class="'+modalClass+"_content "+overflowContentClass+'"></div>');if(tooltipContainer.append(closeBut,tooltipContent),$.isFunction(_options.html)){var b="Please, waiting...";tooltipContent.append(b),_options.html(function(o){tooltipContent.empty().append(o)})}else tooltipContent.append(_options.html);g.after(tooltipContainer),animTime=$("."+modalClass).css("transitionDuration"),animTime=void 0!=animTime&&"0s"!=animTime?1e3*animTime.replace("s",""):0,_options.onLoad&&$.isFunction(_options.onLoad)&&_options.onLoad(),$("."+modalClass).on("destroyed",function(){_options.onClose&&$.isFunction(_options.onClose)&&_options.onClose()}),getPlacement(),_options.overflowContent&&$("."+modalClass).append($("."+modalClass).find("."+modalClass+"_content ."+modalClass+"_footer")),setTimeout(function(){$("."+modalClass).addClass("open")},animTime),$("."+modalClass+" .close").bind("click",function(){popModalClose()}),_options.onDocumentClickClose&&$("html").on("click.popModalEvent",function(o){$(this).addClass(modalClass+"Open"),$("."+modalClass).is(":hidden")&&popModalClose();var e=$(o.target);if(!e.parents().andSelf().is("."+modalClass)&&!e.parents().andSelf().is(g)){var t=parseInt(e.parents().filter(function(){return"auto"!==$(this).css("zIndex")}).first().css("zIndex"));t<e.css("zIndex")&&(t=e.css("zIndex")),t<=$("."+modalClass).css("zIndex")&&popModalClose()}}),$(window).resize(function(){getPlacement()}),$("."+modalClass+' [data-popmodal="close"]').bind("click",function(){popModalClose()}),$("."+modalClass+' [data-popmodal="ok"]').bind("click",function(o){var e;_options.okFun&&$.isFunction(_options.okFun)&&(e=_options.okFun(o)),e!==!1&&popModalClose()}),$("."+modalClass+' [data-popmodal="cancel"]').bind("click",function(){_options.cancelFun&&$.isFunction(_options.cancelFun)&&_options.cancelFun(),popModalClose()}),$("html").on("keydown.popModalEvent",function(o){27==o.keyCode&&popModalClose()})}}function getPlacement(){switch(_options.placement){case"bottomLeft":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+"px"});break;case"bottomRight":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()-$("."+modalClass).outerWidth()+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"bottomCenter":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+(g.outerWidth()-$("."+modalClass).outerWidth())/2+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"leftTop":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop")))+"px",left:g.position().left+parseInt(g.css("marginLeft"))-$("."+modalClass).outerWidth()-10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"rightTop":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop")))+"px",left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()+10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"leftCenter":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()/2-$("."+modalClass).outerHeight()/2)+"px",left:g.position().left+parseInt(g.css("marginLeft"))-$("."+modalClass).outerWidth()-10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"rightCenter":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()/2-$("."+modalClass).outerHeight()/2)+"px",left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()+10+"px",width:$("."+modalClass).outerWidth()+"px"})}}var d={html:"",placement:"bottomLeft",showCloseBut:!0,overflowContent:!0,onDocumentClickClose:!0,okFun:function(){return!0},cancelFun:function(){},onLoad:function(){},onClose:function(){}};_options=$.extend(d,c),closeBut=_options.showCloseBut?$('<button type="button" class="close">&times;</button>'):"",overflowContentClass=_options.overflowContent?"popModal_contentOverflow":"",isClick?_init():g.on("click",function(){_init()})},hide:function(){popModalClose()}};return methods[f]?methods[f].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof f&&f?void 0:methods.init.apply(this,arguments)},$.event.special.destroyed={remove:function(o){o.handler&&o.handler()}}}(jQuery),function(){hintModal()}(jQuery),function(o){o.fn.dialogModal=function(e){function t(){setTimeout(function(){o("."+d).removeClass("open"),setTimeout(function(){o("."+d).remove(),o("html."+d+"Open").off(".dialogModalEvent").removeClass(d+"Open"),o("."+d+" .dialogPrev, ."+d+" .dialogNext").off("click")},s)},s)}function n(e,t){var n,i=!1;return n=o._data(e[0],"events"),n&&o.each(n,function(o){o==t&&(i=!0)}),i}var i,s,a=o(this),l=n(a,"click"),d="dialogModal",c={init:function(e){function n(){function e(){var e=o("."+d+"_container").outerHeight(),t=o(window).height();o("."+d+"_container").css(t>e+80?{top:"50%",marginTop:-e/2+20+"px"}:{top:0,marginTop:"60px"}),setTimeout(function(){o("."+d).addClass("open"),o("."+d+"_container").css({marginTop:parseInt(o("."+d+"_container").css("marginTop"))-20+"px"})},s),n()}function n(){o("."+d+' [data-dialogmodal="close"]').bind("click",function(){t()}),o("."+d+' [data-dialogmodal="ok"]').bind("click",function(e){var n;i.okFun&&o.isFunction(i.okFun)&&(n=i.okFun(e)),n!==!1&&t()}),o("."+d+' [data-dialogmodal="cancel"]').bind("click",function(){i.cancelFun&&o.isFunction(i.cancelFun)&&i.cancelFun(),t()})}o("html."+d+"Open").off(".dialogModalEvent").removeClass(d+"Open"),o(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click"),o("."+d).remove();var l=o('<div class="'+d+'"></div>'),c=o('<div class="'+d+'_container"></div>'),p=o('<button type="button" class="close">&times;</button>'),m=o('<div class="'+d+'_body"></div>');if(l.append(c),c.append(p,m),o.isArray(i.html)){var r=0,u=i.html.length-1;m.append(i.html[r]),c.prepend(o('<div class="dialogPrev notactive"></div><div class="dialogNext"></div>'))}else m.append(i.html);o("html").append(l),s=o("."+d+"_container").css("transitionDuration"),s=void 0!=s&&"0s"!=s?1e3*s.replace("s",""):0,i.onLoad&&o.isFunction(i.onLoad)&&i.onLoad(),o("."+d).on("destroyed",function(){i.onClose&&o.isFunction(i.onClose)&&i.onClose()}),e(),o("."+d+" .dialogPrev").bind("click",function(){r>0&&(--r,u>r&&o("."+d+" .dialogNext").removeClass("notactive"),0==r&&o("."+d+" .dialogPrev").addClass("notactive"),m.empty().append(i.html[r]),e())}),o("."+d+" .dialogNext").bind("click",function(){u>r&&(++r,r>0&&o("."+d+" .dialogPrev").removeClass("notactive"),r==u&&o("."+d+" .dialogNext").addClass("notactive"),m.empty().append(i.html[r]),e())}),o("."+d+" .close").bind("click",function(){t()}),o("html").on("click.dialogModalEvent",function(e){o(this).addClass(d+"Open"),o("."+d).is(":hidden")&&t();var n=o(e.target);n.parents().andSelf().is("."+d)||n.parents().andSelf().is(a)||t()}),o("html").on("keydown.dialogModalEvent",function(e){27==e.keyCode?t():37==e.keyCode?o("."+d+" .dialogPrev").click():39==e.keyCode&&o("."+d+" .dialogNext").click()})}var c={html:"",okFun:function(){return!0},cancelFun:function(){},onLoad:function(){},onClose:function(){}};i=o.extend(c,e),l?n():a.on("click",function(){n()})},hide:function(){t()}};return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:c.init.apply(this,arguments)},o.event.special.destroyed={remove:function(o){o.handler&&o.handler()}}}(jQuery);
